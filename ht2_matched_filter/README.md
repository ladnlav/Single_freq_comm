# Отчет о домешнем задании по согласованной фильтрации
## Первая часть: корень из приподнятого косинуса

В данной части задания нужно было Написать функцию, которая генерирует коэффиценты (импульсную характеристику) для фильтра корень из приподнятого косинуса. Затем построить импульсную и частотную характеристику фильтра - их можно видеть на графиках ниже.

![Alt-text](<graphs/rrc1.png>)
![Alt-text](<graphs/rrc2.png>)

## Вторая часть: приподнятый косинус

В данной части требовалось сделать всё то же самое, но уже для просто приподнятого косинуса. Также необходимо было построить импульсные характеристики для корня, без корня и соответсвующий sinc на одном графике. Результаты - ниже.

![Alt-text](<graphs/rc1.png>)
![Alt-text](<graphs/rc2.png>)

![Alt-text](<graphs/pulses.png>)

## Третья часть: фильтрации на основе ИХ

Здесь нужно было написать функцию фильтрации на основе полученной ИХ. Провести фильтрацию сигнала с помощью ИХ приподнятый косинус на передатчике и на приёмнике. Показать сигнальное созвездие получившего сигнала и амплитуду сигнала от времени - это можно видеть на графиках ниже.

### 3.1 С передискретизацией
![Alt-text](<graphs/const1.png>)
![Alt-text](<graphs/ampl1.png>)

### 3.2 Без передискретизации
![Alt-text](<graphs/const2.png>)
![Alt-text](<graphs/ampl2.png>)

Как можно видеть на графиках выше, созвездие передискретизированного сигнала выглядит кучнее, однако амплитуда заметно ниже, чем у изначального сигнала без передискретизации. 

## Четвёртая часть: Модель на схеме
### 4.1 Добавление AWGN, downsampling

* Добавление AWGN

![Alt-text](<graphs/awgn.png>)
![Alt-text](<graphs/awgn2.png>)
Как можно видеть на созвездии выше, после добавления AWGN, как и ожидалось, наблюдается зашумленная картина, даже несмотря на фильтрацию. SNR = 5 dB.

* Downsampling

![Alt-text](<graphs/downsampling.png>)
![Alt-text](<graphs/downsampling2.png>)
![Alt-text](<graphs/downsampling3.png>)

В свою очередь, при возвращении исходной частоты дискретизации сигнала, мы теряем часть исходной информации о сообщении, поэтому на последнем созвездии можно наблюдать, что всё разъехалось (синие точки).

### 4.2 MER(Freq_Offset)

В этом пункте домашнего задания, нужно было понять, как изменение частотного сдвига будет изменять MER. 

![Alt-text](<graphs/mer2.png>)

Как можно видеть на графике, MER периодично изменяется в зависимости от значения частотного сдвига. Также наблюдаются участки, где MER нулевой. Важно отметить, что из-за частотного сдвига теряется часть спектра полезного сигнала - попросту обрезается фильтром и этим же фильтром берётся "лишний" шум (см. картинку ниже). Однако, при построении MER нам не нужно учитывать сдвиг созвездия по фазе, возникающий из-за нарушения согласованности фильтра и сигнала. Т.е. нам нужно учитывать только шум, возникающий из-за этого. Поэтому сдвиг по фазе необходимо компенсировать либо поворотом на соответствующий угол, либо брать только точки кратные `1/16` _(т.к. используется 4 сэмпла на символ)_, для построения графика выше реализован второй подход.  

![Alt-text](<graphs/mismatched_filter.png>)